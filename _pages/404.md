---
layout: page
permalink: /404.html
title: "Page not found"
description: "Looks like there has been a mistake. Nothing exists here."
redirect: true
---

<script>
document.addEventListener("DOMContentLoaded", () => {
  const path = window.location.pathname.slice(1); // Remove leading "/"

  fetch("./urlshortener.json")
    .then(response => {
      if (!response.ok) {
        throw new Error("Could not load the URL map.");
      }
      return response.json();
    })
    .then(map => {
      if (map[path]) {
        // Redirect to the mapped URL
        window.location.href = map[path];
      } else {
        // Show "not found" message; redirect handled by include.php
        showNotFoundMessage();
      }
    })
    .catch(() => {
      // If JSON fails to load, also show "not found" message
      showNotFoundMessage();
    });

  function showNotFoundMessage() {
  const notFoundEl = document.getElementById("notfound");
  if (notFoundEl) {
    notFoundEl.innerHTML = `
      <p>Short URL not found. You will be redirected to the 
      <a href="/">home page</a> in 3 seconds...</p> <a href="./urlshortener.json">test</a>
    `;
    notFoundEl.style.display = "block";
  }
}


});
</script>
<meta http-equiv="refresh" content="3;url=/" />
<div id="notfound"></div>
